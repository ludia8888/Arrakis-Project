# Arrakis MSA Environment Variables Example

# JWT Configuration
JWT_SECRET=your-very-secure-jwt-secret-key-here-change-in-production

# Environment
ENV=development
LOG_LEVEL=INFO

# Microservice Feature Flags (점진적 마이그레이션)
USE_DATA_KERNEL_GATEWAY=true
USE_EMBEDDING_MS=true
USE_SCHEDULER_MS=true
USE_EVENT_GATEWAY=true

# IAM Configuration
USE_IAM_VALIDATION=false

# Monitoring
ENABLE_TELEMETRY=true
ENABLE_METRICS=true

# Webhook Configuration
ENABLE_WEBHOOKS=true

# =============================================================================
# HARDCODE ELIMINATION CONFIGURATION
# =============================================================================

# Database Credentials (Replace all hardcoded passwords)
DB_HOST=localhost
DB_PORT=5432
DB_USER=arrakis_user
DB_PASSWORD=change-me-secure-password
DB_NAME=arrakis_db

# Service Account Passwords (Generate unique for each service)
SERVICE_ACCOUNT_PASSWORD_EMBEDDING=
SERVICE_ACCOUNT_PASSWORD_AUDIT=
SERVICE_ACCOUNT_PASSWORD_SCHEDULER=

# Service Endpoints (Replace hardcoded URLs)
EMBEDDING_SERVICE_URL=http://embedding-service:8001
AUDIT_SERVICE_URL=http://audit-service:8000
USER_SERVICE_URL=http://user-service:8010
DATA_KERNEL_SERVICE_URL=http://data-kernel-service:8003
ONTOLOGY_SERVICE_URL=http://ontology-management-service:8000

# Timeout Configuration (Replace hardcoded timeouts)
EXECUTOR_DEFAULT_TIMEOUT=30.0
EXECUTOR_EMBEDDING_TIMEOUT=60.0
EXECUTOR_AUDIT_TIMEOUT=10.0
VALIDATION_TIMEOUT_SECONDS=30.0

# Batch Processing (Replace hardcoded batch sizes)
EXECUTOR_DEFAULT_BATCH_SIZE=100
EXECUTOR_LARGE_BATCH_SIZE=1000
CLEANUP_BATCH_SIZE=1000

# Validation Limits (Replace hardcoded validation rules)
SCHEMA_NAME_MAX_LENGTH=100
SCHEMA_DESCRIPTION_MAX_LENGTH=1000
VALIDATION_EMAIL_LOCAL_MAX=64
VALIDATION_EMAIL_DOMAIN_MAX=255
VALIDATION_PHONE_MIN_LENGTH=7
VALIDATION_PHONE_MAX_LENGTH=15
VALIDATION_MFA_CODE_LENGTH=6

# Rate Limiting (Replace hardcoded rate limits)
RATE_LIMIT_API_RPS=10.0
RATE_LIMIT_AUTH_RPS=5.0

# Test Configuration (Replace hardcoded test values)
TEST_USER_PASSWORD=
LOAD_TEST_PASSWORD=
TEST_JWT_SECRET=test-secret-key-for-testing-only
TEST_PROTECTED_BRANCHES=main,master,production,staging

# Security Modes (Replace hardcoded security settings)
VALIDATION_STRICT_MODE=false
STRICT_VALIDATION=false
STRICT_SECURITY=false
ALLOW_SCHEMA_BYPASS=false

# Monitoring Thresholds (Replace hardcoded monitoring values)
MONITORING_CB_FAILURE_THRESHOLD=0.5
MONITORING_AUTH_FAILURE_THRESHOLD=5
MONITORING_RESPONSE_TIME_THRESHOLD_MS=1000

# =============================================================================
# SECURITY NOTES
# =============================================================================
# 
# CRITICAL: For production deployment:
# 1. Generate strong JWT secrets: openssl rand -hex 32
# 2. Use unique passwords for all services
# 3. Enable STRICT_VALIDATION and STRICT_SECURITY
# 4. Never commit .env files with real credentials
# 5. Use secrets management systems in production
# 6. Regularly audit for remaining hardcoded values